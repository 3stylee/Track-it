const processData = require("./index")

const mockData = [
	["2024-02-16T12:43:26Z", 2835, 9881.5, 3.486, 32, "Run", 153.9],
	["2024-02-15T18:57:48Z", 880, 3172.4, 3.605, 10, "Run", 154.2],
	["2024-02-15T18:30:04Z", 1203, 5669.6, 4.713, 32, "Run", 165.9],
	["2024-02-15T17:18:00Z", 586, 2036.6, 3.475, 12, "Run", 146],
]

describe("processData", () => {
	it("should return an array of processed data", () => {
		const processedData = processData(mockData)
		expect(processedData).toEqual([
			[
				0.8333333333333334, 0.3911602209944751, 0.2164508328149232, 0.01743, 0.004225538095866895, 0,
				0.7471910112359551,
			],
			[
				0.6666666666666666, 0.12113259668508287, 0.06949032252411702, 0.018025, 0.001320480654958405, 0,
				0.749063670411985,
			],
			[
				0.6666666666666666, 0.16574585635359115, 0.12419062305596201, 0.023565, 0.004225538095866895, 0,
				0.8220973782771536,
			],
			[
				0.6666666666666666, 0.08052486187845304, 0.04461101716448642, 0.017375, 0.001584576785950086, 0,
				0.6978776529338327,
			],
		])
	})
})
